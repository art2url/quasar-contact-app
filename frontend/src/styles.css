/* You can add global styles to this file, and also import other style files */
@import "@angular/material/prebuilt-themes/indigo-pink.css";

/* Global Angular Material button hover override */
.header button:hover,
.header button.mat-button:hover,
.header button.mat-raised-button:hover,
.header button.mat-icon-button:hover,
.header button.mat-fab:hover,
.header button.mat-mini-fab:hover,
.header button.mat-stroked-button:hover,
.header button.mat-flat-button:hover,
.header button.mat-mdc-button:hover,
.header button.mat-mdc-raised-button:hover,
.header button.mat-mdc-outlined-button:hover,
.header button.mat-mdc-unelevated-button:hover,
.header button.mat-mdc-icon-button:hover {
  background-color: transparent !important;
  background: transparent !important;
}

/* Disable all Material Design overlays and ripples in header */
.header button .mat-button-focus-overlay,
.header button .mat-button-ripple,
.header button .mat-ripple,
.header button .mdc-button__ripple,
.header button .mat-mdc-button-ripple,
.header button .mat-mdc-focus-indicator,
.header button .mat-ripple-element {
  display: none !important;
  opacity: 0 !important;
  background-color: transparent !important;
}

/* Disable hover state background for Material buttons globally in header */
.header .mat-mdc-button:not(:disabled):hover,
.header .mat-mdc-icon-button:not(:disabled):hover {
  background-color: transparent !important;
}

/* Override Material Design CSS custom properties if used */
.header button {
  --mdc-text-button-hover-state-layer-color: transparent !important;
  --mdc-icon-button-hover-state-layer-color: transparent !important;
  --mat-text-button-hover-state-layer-color: transparent !important;
  --mat-icon-button-hover-state-layer-color: transparent !important;
}

/* 1. Headers use Raleway */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Raleway", sans-serif !important;
  font-optical-sizing: auto;
  font-weight: 700;
  font-style: normal;
}

/* 2. Base elements use Jost */
html,
body {
  font-family: "Jost", sans-serif;
  font-optical-sizing: auto;
}

/* 3. All other elements use Jost, but exclude icons AND headers */
*:not(.material-icons):not(.mat-icon):not([class*="icon"]):not([data-mat-icon-type]):not(.mdi):not(
    .fa
  ):not(.fas):not(.far):not(.fab):not(.fal):not(.fad):not(.fass):not(.fasr):not(.fasl):not(
    .fasd
  ):not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
  font-family: "Jost", sans-serif !important;
  font-optical-sizing: auto;
}

/* 4. Specific HTML elements (excluding icons) */
p,
span:not(.material-icons):not(.mat-icon),
div:not([class*="icon"]),
button:not(.mat-icon-button) span:not(.material-icons),
input,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="file"],
input[type="search"],
input[type="tel"],
input[type="url"],
input[type="number"],
textarea,
select,
label:not([class*="icon"]),
a:not([class*="icon"]),
li,
td,
th,
caption {
  font-family: "Jost", sans-serif !important;
  font-optical-sizing: auto;
}

/* Additional specific override for all inputs */
input:not(.material-icons):not(.mat-icon) {
  font-family: "Jost", sans-serif !important;
  font-optical-sizing: auto;
}

/* Override Angular generated input styles */
input[class*="_ngcontent"],
input[_ngcontent],
input[ng-reflect] {
  font-family: "Jost", sans-serif !important;
  font-optical-sizing: auto;
}

/* 5. Override Angular Material typography classes (excluding icons) */
.mat-display-4,
.mat-display-3,
.mat-display-2,
.mat-display-1,
.mat-headline,
.mat-title,
.mat-subheading-2,
.mat-subheading-1,
.mat-body-2,
.mat-body-1,
.mat-caption,
.mat-button:not(.mat-icon-button),
.mat-button-toggle,
.mat-checkbox .mat-checkbox-label,
.mat-radio-button .mat-radio-label,
.mat-select:not(.mat-select-arrow),
.mat-input-element,
.mat-form-field:not(.mat-form-field-suffix):not(.mat-form-field-prefix),
.mat-menu-item,
.mat-option,
.mat-card,
.mat-dialog-title,
.mat-dialog-content,
.mat-snack-bar-container,
.mat-tooltip {
  font-family: "Jost", sans-serif !important;
}

/* 6. Override Material Design Components (MDC) typography (excluding icons) */
.mdc-typography,
.mdc-typography--headline1,
.mdc-typography--headline2,
.mdc-typography--headline3,
.mdc-typography--headline4,
.mdc-typography--headline5,
.mdc-typography--headline6,
.mdc-typography--subtitle1,
.mdc-typography--subtitle2,
.mdc-typography--body1,
.mdc-typography--body2,
.mdc-typography--caption,
.mdc-typography--button,
.mdc-typography--overline,
.mat-mdc-button:not(.mat-mdc-icon-button),
.mat-mdc-raised-button,
.mat-mdc-outlined-button,
.mat-mdc-unelevated-button,
.mat-mdc-fab,
.mat-mdc-mini-fab,
.mat-mdc-form-field,
.mat-mdc-input-element,
.mat-mdc-select,
.mat-mdc-option,
.mat-mdc-checkbox .mdc-label,
.mat-mdc-radio .mdc-label,
.mat-mdc-slide-toggle,
.mat-mdc-card,
.mat-mdc-dialog-title,
.mat-mdc-dialog-content,
.mat-mdc-snack-bar-container,
.mat-mdc-tooltip {
  font-family: "Jost", sans-serif !important;
}

/* 7. Preserve icon fonts - explicitly keep their original font families */
.material-icons,
.mat-icon,
.mdi,
.fa,
.fas,
.far,
.fab,
.fal,
.fad,
.fass,
.fasr,
.fasl,
.fasd,
[class*="icon-"]:before,
[class*="icon-"]:after,
.mat-icon-button .mat-icon,
.mat-form-field-suffix .mat-icon,
.mat-form-field-prefix .mat-icon,
.mat-select-arrow,
.mat-datepicker-toggle-default-icon,
.mat-calendar-arrow,
.mat-expansion-indicator::after {
  font-family:
    "Material Icons", "Material Icons Outlined", "Font Awesome 5 Free", "Font Awesome 5 Pro", "MDI" !important;
}

/* 8. Override CSS custom properties for non-header typography */
:root {
  --mat-sys-typescale-display-large-font-family-name: "Jost", sans-serif;
  --mat-sys-typescale-display-medium-font-family-name: "Jost", sans-serif;
  --mat-sys-typescale-display-small-font-family-name: "Jost", sans-serif;
  --mat-sys-typescale-headline-large-font-family-name: "Raleway", sans-serif;
  --mat-sys-typescale-headline-medium-font-family-name: "Raleway", sans-serif;
  --mat-sys-typescale-headline-small-font-family-name: "Raleway", sans-serif;
  --mat-sys-typescale-title-large-font-family-name: "Raleway", sans-serif;
  --mat-sys-typescale-title-medium-font-family-name: "Raleway", sans-serif;
  --mat-sys-typescale-title-small-font-family-name: "Raleway", sans-serif;
  --mat-sys-typescale-label-large-font-family-name: "Jost", sans-serif;
  --mat-sys-typescale-label-medium-font-family-name: "Jost", sans-serif;
  --mat-sys-typescale-label-small-font-family-name: "Jost", sans-serif;
  --mat-sys-typescale-body-large-font-family-name: "Jost", sans-serif;
  --mat-sys-typescale-body-medium-font-family-name: "Jost", sans-serif;
  --mat-sys-typescale-body-small-font-family-name: "Jost", sans-serif;
}

/* 9. Ensure Material Icons stay intact */
.mat-icon {
  font-family: "Material Icons" !important;
  font-feature-settings: "liga";
}

.material-icons {
  font-family: "Material Icons" !important;
  font-feature-settings: "liga";
  -webkit-font-feature-settings: "liga";
  -webkit-font-smoothing: antialiased;
}

/* Light Theme Variables */
:root,
.light-theme {
  --primary-color: #0077cc;
  --primary-color-rgb: 0, 119, 204;
  --secondary-color: #005599;
  --background-color: #fafafa;
  --text-color: #001011;
  --text-secondary: #666666;
  --border-color: #e0e0e0;
  --danger-color: #f44336;
  --success-color: #68b684;
  --warning-color: #ff9800;
  --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 10px 40px rgba(0, 0, 0, 0.15);
  --border-radius: 8px;
  --header-height: 64px;
  --footer-height: 80px;
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  /* Component specific colors */
  --card-background: #ffffff;
  --input-background: #ffffff;
  --input-border: #e0e0e0;
  --button-background: var(--primary-color);
  --button-text: #ffffff;
  --header-background: #fff;
  --nav-hover: rgba(0, 119, 204, 0.08);
  --warning-background: #fff3e0;
  --warning-text: #e65100;
  --info-background: #e1f5fe;
  --info-text: #0277bd;
  --chat-list-background: #ffffff;
}

/* Dark Theme Variables */
.dark-theme {
  --primary-color: #c3f73a;
  --primary-color-rgb: 195, 247, 58;
  --secondary-color: #95e06c;
  --background-color: #0c2524;
  --text-color: rgba(255, 255, 255, 0.9);
  --text-secondary: rgba(255, 255, 255, 0.7);
  --border-color: rgba(255, 255, 255, 0.1);
  --danger-color: #ef5350;
  --success-color: #68b684;
  --warning-color: #ffb74d;
  --shadow-xs: 0 1px 10px rgba(0, 0, 0, 0.4);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.794);
  --shadow-md: 0 10px 40px rgba(0, 0, 0, 0.5);
  --border-radius: 8px;
  --header-height: 64px;
  --footer-height: 80px;
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  /* Component specific colors */
  /* --card-background: #102423; */
  --card-background: #0c2524;
  --input-background: rgba(255, 255, 255, 0);
  --input-border: #3c4f4f;
  --button-background: var(--primary-color);
  --button-text: #001011;
  --header-background: #051a1a;
  --nav-hover: rgba(195, 247, 58, 0.1);
  --warning-background: rgba(255, 183, 77, 0.1);
  --warning-text: #ffb74d;
  --info-background: rgba(102, 187, 106, 0.1);
  --info-text: #66bb6a;
  --chat-list-background: #0c2524;
}

/* Dark theme background */
.dark-theme body {
  background: #011012;
  background-attachment: fixed;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  background-color: var(--background-color);
  color: var(--text-color);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Utility classes for retina images */
.retina-image {
  background-size: contain;
  background-repeat: no-repeat;
}

/* Responsive breakpoints */
@media (max-width: 599px) {
  :root {
    --header-height: 56px;
    --footer-height: 60px;
  }

  .mobile-hidden {
    display: none !important;
  }
}

@media (min-width: 600px) {
  .desktop-hidden {
    display: none !important;
  }
}

/* Touch-friendly adjustments */
@media (hover: none) {
  /* Increase touch targets */
  button,
  a {
    min-height: 44px;
    min-width: 44px;
  }

  /* Increase form elements for touch */
  input,
  select,
  textarea {
    font-size: 16px; /* Prevents iOS zoom on focus */
  }
}

/* High-density (retina) displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Specific adjustments for retina displays */
}

/* Width container for consistent layouts */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-xl);
  box-sizing: border-box;
}

/* Fade-in animation */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

/* reCAPTCHA Styles */

/* reCAPTCHA Container Styles */
.recaptcha-container {
  margin: 16px 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}

.recaptcha-container > div {
  display: flex;
  justify-content: center;
  width: 100%;
}

/* reCAPTCHA Widget Styling */
.g-recaptcha {
  transform: scale(0.9);
  transform-origin: center;
  margin: 8px 0;
}

/* Mobile responsive reCAPTCHA */
@media (max-width: 480px) {
  .g-recaptcha {
    transform: scale(0.75);
    transform-origin: center;
  }

  .recaptcha-container {
    margin: 12px 0;
  }
}

/* Very small screens */
@media (max-width: 360px) {
  .g-recaptcha {
    transform: scale(0.65);
    transform-origin: center;
  }
}

/* reCAPTCHA Error Message Styling */
.recaptcha-error {
  color: #f44336;
  font-size: 0.75rem;
  margin-top: 8px;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
}

.recaptcha-error::before {
  content: "⚠️";
  font-size: 0.875rem;
}

/* Dark mode support for reCAPTCHA error */
@media (prefers-color-scheme: dark) {
  .recaptcha-error {
    color: #ef5350;
  }
}

/* Loading state for reCAPTCHA */
.recaptcha-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 78px;
  background-color: #f5f5f5;
  border-radius: 4px;
  color: #666;
  font-size: 0.875rem;
}

.recaptcha-loading::before {
  content: "🔄";
  margin-right: 8px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* reCAPTCHA container spacing in forms */
.auth-form .recaptcha-container {
  margin: 20px 0;
}

/* Ensure reCAPTCHA doesn't break form layout */
.recaptcha-container iframe {
  max-width: 100%;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .recaptcha-error {
    background-color: #fff;
    padding: 8px;
    border: 2px solid #f44336;
    border-radius: 4px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .recaptcha-loading::before {
    animation: none;
    content: "⏳";
  }
}

/* Form input theming */
input,
textarea,
select {
  background-color: var(--input-background) !important;
  border: 1px solid var(--input-border) !important;
  color: var(--text-color) !important;
  border-radius: var(--border-radius) !important;
}

input::placeholder,
textarea::placeholder {
  color: var(--text-secondary) !important;
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--primary-color) !important;
  outline: none !important;
}

/* Dark theme specific focus override */
.dark-theme input:focus,
.dark-theme textarea:focus,
.dark-theme select:focus {
  border-color: var(--primary-color) !important;
}

/* Angular Material form field theming */
.mat-mdc-form-field {
  --mdc-filled-text-field-container-color: var(--input-background);
  --mdc-filled-text-field-label-text-color: var(--text-secondary);
  --mdc-filled-text-field-input-text-color: var(--text-color);
  --mdc-filled-text-field-active-indicator-color: var(--primary-color);
  --mdc-filled-text-field-focus-active-indicator-color: var(--primary-color);
}

/* Dark theme Angular Material form field overrides */
.dark-theme .mat-mdc-form-field {
  --mdc-filled-text-field-active-indicator-color: var(--primary-color);
  --mdc-filled-text-field-focus-active-indicator-color: var(--primary-color);
  --mdc-outlined-text-field-outline-color: var(--input-border);
  --mdc-outlined-text-field-hover-outline-color: var(--input-border);
  --mdc-outlined-text-field-focus-outline-color: var(--primary-color);
  --mdc-outlined-text-field-label-text-color: var(--text-secondary);
  --mdc-outlined-text-field-supporting-text-color: var(--text-secondary);
  --mdc-shape-corner-size-medium: var(--border-radius);
}

/* Dark theme placeholder text color */
.dark-theme input::placeholder,
.dark-theme textarea::placeholder {
  color: var(--text-secondary) !important;
}

/* Dark theme mat-label color */
.dark-theme .mat-mdc-form-field .mat-mdc-floating-label {
  color: var(--text-secondary) !important;
}

.mat-mdc-text-field-wrapper {
  background-color: var(--input-background) !important;
}

.mat-mdc-form-field-input-control input {
  color: var(--text-color) !important;
  background-color: var(--input-background) !important;
}

/* Card backgrounds */
.mat-mdc-card,
.mat-card,
.card {
  background-color: var(--card-background) !important;
  color: var(--text-color) !important;
  border: 1px solid var(--border-color) !important;
}

/* Button theming */
.mat-mdc-button,
.mat-mdc-raised-button,
.mat-mdc-unelevated-button {
  --mdc-text-button-label-text-color: var(--text-color);
  --mdc-filled-button-container-color: var(--button-background);
  --mdc-filled-button-label-text-color: var(--button-text);
}

/* Override Material Design button hover effects for dark theme */
.dark-theme .mat-mdc-button:not(:disabled):hover .mdc-button__ripple::before,
.dark-theme .mat-mdc-raised-button:not(:disabled):hover .mdc-button__ripple::before,
.dark-theme .mat-mdc-outlined-button:not(:disabled):hover .mdc-button__ripple::before,
.dark-theme .mat-mdc-unelevated-button:not(:disabled):hover .mdc-button__ripple::before {
  opacity: 0 !important;
}

.dark-theme .mat-mdc-button:not(:disabled):hover,
.dark-theme .mat-mdc-raised-button:not(:disabled):hover,
.dark-theme .mat-mdc-outlined-button:not(:disabled):hover,
.dark-theme .mat-mdc-unelevated-button:not(:disabled):hover {
  background-color: var(--nav-hover) !important;
}

/* Remove Material Design focus outline in dark theme */
.dark-theme .mat-mdc-button:focus,
.dark-theme .mat-mdc-raised-button:focus,
.dark-theme .mat-mdc-outlined-button:focus,
.dark-theme .mat-mdc-unelevated-button:focus,
.dark-theme .mat-mdc-icon-button:focus {
  outline: none !important;
  outline-offset: 0 !important;
}

/* Dark theme spinner colors */
.dark-theme .mat-mdc-progress-spinner,
.dark-theme .mat-spinner {
  --mdc-circular-progress-active-indicator-color: var(--primary-color);
}

.dark-theme .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,
.dark-theme .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,
.dark-theme .mat-spinner .mdc-circular-progress__determinate-circle,
.dark-theme .mat-spinner .mdc-circular-progress__indeterminate-circle-graphic {
  stroke: var(--primary-color) !important;
}

/* Dark theme button spinner colors */
.dark-theme .button-spinner {
  --mdc-circular-progress-active-indicator-color: var(--button-text);
}

.dark-theme .button-spinner .mdc-circular-progress__determinate-circle,
.dark-theme .button-spinner .mdc-circular-progress__indeterminate-circle-graphic {
  stroke: var(--button-text) !important;
}

/* Chat and content backgrounds */
.content-background {
  background-color: var(--card-background) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}

/* Global avatar borders - inner borders using outline */
.avatar,
img.avatar,
.chat-wrapper .avatar,
.chat-wrapper img.avatar,
.user-info .avatar,
.user-info img.avatar,
.chat-wrapper .chat-header .left-side .user-info img.avatar,
.chat-header .user-info img.avatar {
  outline: 1px solid #fff !important;
  outline-offset: -1px !important;
  border-radius: 50% !important;
}

/* Settings avatars - special handling for better cross-browser compatibility */
.avatar-option {
  position: relative !important;
}

.avatar-option::after {
  content: "" !important;
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  width: 54px !important;
  height: 54px !important;
  transform: translate(-50%, -50%) !important;
  border: 1px solid #fff !important;
  border-radius: 50% !important;
  pointer-events: none !important;
  z-index: 1 !important;
}

.avatar-option::before {
  content: "" !important;
  position: absolute !important;
  top: 50% !important;
  left: 50% !important;
  width: 54px !important;
  height: 54px !important;
  transform: translate(-50%, -50%) !important;
  border: 1px solid #fff !important;
  border-radius: 50% !important;
  pointer-events: none !important;
  z-index: 1 !important;
}

/* Dark theme avatar borders - inner borders */
body.dark-theme .avatar,
body.dark-theme img.avatar,
body.dark-theme .chat-wrapper .avatar,
body.dark-theme .chat-wrapper img.avatar,
body.dark-theme .user-info .avatar,
body.dark-theme .user-info img.avatar,
body.dark-theme .chat-wrapper .chat-header .left-side .user-info img.avatar,
body.dark-theme .chat-header .user-info img.avatar,
.dark-theme .avatar,
.dark-theme img.avatar,
.dark-theme .chat-wrapper .avatar,
.dark-theme .chat-wrapper img.avatar,
.dark-theme .user-info .avatar,
.dark-theme .user-info img.avatar,
.dark-theme .chat-wrapper .chat-header .left-side .user-info img.avatar,
.dark-theme .chat-header .user-info img.avatar {
  outline: 1px solid #001011 !important;
  outline-offset: -1px !important;
}

/* Dark theme settings avatars */
body.dark-theme .avatar-option::after,
.dark-theme .avatar-option::after {
  border: 1px solid #001011 !important;
}

body.dark-theme .avatar-option::before,
.dark-theme .avatar-option::before {
  border: 1px solid #001011 !important;
}

.chat-container {
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}

.chat-info {
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
}
